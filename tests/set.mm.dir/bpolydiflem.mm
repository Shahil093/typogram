include "c1.mm"
include "caddc.mm"
include "co.mm"
include "cbp.mm"
include "cmin.mm"
include "cexp.mm"
include "cc0.mm"
include "cfz.mm"
include "cv.mm"
include "cbc.mm"
include "cdiv.mm"
include "cmul.mm"
include "csu.mm"
include "cn0.mm"
include "wcel.mm"
include "cc.mm"
include "wceq.mm"
include "nnnn0d.mm"
include "peano2cn.mm"
include "syl.mm"
include "bpolyval.mm"
include "syl2anc.mm"
include "oveq12d.mm"
include "expcld.mm"
include "fzfid.mm"
include "wa.mm"
include "cz.mm"
include "elfzelz.mm"
include "bccl.mm"
include "syl2an.mm"
include "nn0cnd.mm"
include "elfznn0.mm"
include "bpolycl.mm"
include "syl2anr.mm"
include "cn.mm"
include "fzssp1.mm"
include "nncnd.mm"
include "ax-1cn.mm"
include "npcan.mm"
include "sylancl.mm"
include "oveq2d.mm"
include "syl5sseq.mm"
include "sselda.mm"
include "fznn0sub.mm"
include "nn0p1nn.mm"
include "nnne0d.mm"
include "divcld.mm"
include "mulcld.mm"
include "fsumcl.mm"
include "sub4d.mm"
include "c2.mm"
include "addcom.mm"
include "oveq1d.mm"
include "binom1p.mm"
include "eqtrd.mm"
include "cuz.mm"
include "cfv.mm"
include "nn0uz.mm"
include "syl6eleq.mm"
include "bccl2.mm"
include "adantl.mm"
include "expcl.mm"
include "oveq2.mm"
include "fsumm1.mm"
include "bcnn.mm"
include "mulid2d.mm"
include "3eqtrd.mm"
include "syldan.mm"
include "pncand.mm"
include "nnm1nn0.mm"
include "1cnd.mm"
include "subsub4d.mm"
include "df-2.mm"
include "oveq2i.mm"
include "syl6eqr.mm"
include "sumeq1d.mm"
include "bcnm1.mm"
include "oveq1.mm"
include "fsum1p.mm"
include "bpoly0.mm"
include "0z.mm"
include "subid1d.mm"
include "eqeltrd.mm"
include "peano2nnd.mm"
include "nnrecred.mm"
include "recnd.mm"
include "wss.mm"
include "fzp1ss.mm"
include "ax-mp.mm"
include "sseli.mm"
include "sylan2.mm"
include "pnpcand.mm"
include "1zzd.mm"
include "0zd.mm"
include "nnzd.mm"
include "2z.mm"
include "zsubcl.mm"
include "2m1e1.mm"
include "2cnd.mm"
include "subsubd.mm"
include "syl5reqr.mm"
include "fsumshft.mm"
include "0p1e1.mm"
include "oveq1i.mm"
include "eleq2i.mm"
include "bcm1k.mm"
include "adantr.mm"
include "elfznn.mm"
include "sylbir.mm"
include "wne.mm"
include "divsubdird.mm"
include "div23d.mm"
include "3eqtr3d.mm"
include "subdid.mm"
include "nn0zd.mm"
include "mulassd.mm"
include "divcan6d.mm"
include "sylan2b.mm"
include "sumeq2dv.mm"
include "fsumsub.mm"
include "3eqtr2rd.mm"
include "pncan2d.mm"

theorem bpolydiflem
  let wph: wff ph
  let vk: setvar k
  let cN: class N
  let cX: class X
  let vm: setvar m
  let vn: setvar n
  assume bpolydiflem.1: |- ( ph -> N e. NN )
  assume bpolydiflem.2: |- ( ph -> X e. CC )
  assume bpolydiflem.3: |- ( ( ph /\ k e. ( 1 ... ( N - 1 ) ) ) -> ( ( k BernPoly ( X + 1 ) ) - ( k BernPoly X ) ) = ( k x. ( X ^ ( k - 1 ) ) ) )

  disjoint N k
  disjoint k ph
  disjoint X k
  disjoint k m
  disjoint k n
  disjoint m n
  disjoint N m
  disjoint N n
  disjoint m ph
  disjoint X m
  disjoint X n
  assert |- ( ph -> ( ( N BernPoly ( X + 1 ) ) - ( N BernPoly X ) ) = ( N x. ( X ^ ( N - 1 ) ) ) )

  proof
    wph
    cN
    cX
    c1
    caddc
    co
    #
    cbp
    co
    #
    cN
    cX
    cbp
    co
    #
    cmin
    co
    @0
    cN
    cexp
    co
    #
    cc0
    cN
    c1
    cmin
    co
    #
    cfz
    co
    #
    cN
    vk
    cv
    #
    cbc
    co
    #
    @6
    @0
    cbp
    co
    #
    cN
    @6
    cmin
    co
    #
    c1
    caddc
    co
    #
    cdiv
    co
    #
    cmul
    co
    #
    vk
    csu
    #
    cmin
    co
    #
    cX
    cN
    cexp
    co
    #
    @5
    @7
    @6
    cX
    cbp
    co
    #
    @10
    cdiv
    co
    #
    cmul
    co
    #
    vk
    csu
    #
    cmin
    co
    #
    cmin
    co
    @3
    @15
    cmin
    co
    #
    @13
    @19
    cmin
    co
    #
    cmin
    co
    #
    cN
    cX
    @4
    cexp
    co
    #
    cmul
    co
    #
    wph
    @1
    @14
    @2
    @20
    cmin
    wph
    cN
    cn0
    wcel
    #
    @0
    cc
    wcel
    #
    @1
    @14
    wceq
    wph
    cN
    bpolydiflem.1
    nnnn0d
    #
    wph
    cX
    cc
    wcel
    #
    @27
    bpolydiflem.2
    cX
    peano2cn
    syl
    #
    vk
    cN
    @0
    bpolyval
    syl2anc
    wph
    @26
    @29
    @2
    @20
    wceq
    @28
    bpolydiflem.2
    vk
    cN
    cX
    bpolyval
    syl2anc
    oveq12d
    wph
    @3
    @13
    @15
    @19
    wph
    @0
    cN
    @30
    @28
    expcld
    wph
    @5
    @12
    vk
    wph
    cc0
    @4
    fzfid
    #
    wph
    @6
    @5
    wcel
    #
    wa
    #
    @7
    @11
    @33
    @7
    wph
    @26
    @6
    cz
    wcel
    @7
    cn0
    wcel
    @32
    @28
    @6
    cc0
    @4
    elfzelz
    @6
    cN
    bccl
    syl2an
    nn0cnd
    #
    @33
    @8
    @10
    @32
    @6
    cn0
    wcel
    #
    @27
    @8
    cc
    wcel
    #
    wph
    @6
    @4
    elfznn0
    #
    @30
    @6
    @0
    bpolycl
    syl2anr
    #
    @33
    @10
    @33
    @9
    cn0
    wcel
    #
    @10
    cn
    wcel
    @33
    @6
    cc0
    cN
    cfz
    co
    #
    wcel
    @39
    wph
    @5
    @40
    @6
    wph
    cc0
    @4
    c1
    caddc
    co
    #
    cfz
    co
    @5
    @40
    cc0
    @4
    fzssp1
    wph
    @41
    cN
    cc0
    cfz
    wph
    cN
    cc
    wcel
    c1
    cc
    wcel
    #
    @41
    cN
    wceq
    wph
    cN
    bpolydiflem.1
    nncnd
    #
    ax-1cn
    cN
    c1
    npcan
    sylancl
    #
    oveq2d
    syl5sseq
    #
    sselda
    @6
    cc0
    cN
    fznn0sub
    syl
    @9
    nn0p1nn
    syl
    #
    nncnd
    #
    @33
    @10
    @46
    nnne0d
    #
    divcld
    mulcld
    #
    fsumcl
    wph
    cX
    cN
    bpolydiflem.2
    @28
    expcld
    #
    wph
    @5
    @18
    vk
    @31
    @33
    @7
    @17
    @34
    @33
    @16
    @10
    @32
    @35
    @29
    @16
    cc
    wcel
    #
    wph
    @37
    bpolydiflem.2
    @6
    cX
    bpolycl
    syl2anr
    #
    @47
    @48
    divcld
    mulcld
    #
    fsumcl
    sub4d
    wph
    @23
    cc0
    cN
    c2
    cmin
    co
    #
    cfz
    co
    #
    cN
    vm
    cv
    #
    cbc
    co
    #
    cX
    @56
    cexp
    co
    #
    cmul
    co
    #
    vm
    csu
    #
    @25
    caddc
    co
    #
    @60
    cmin
    co
    @25
    wph
    @21
    @61
    @22
    @60
    cmin
    wph
    @21
    @5
    @59
    vm
    csu
    #
    cc0
    @4
    c1
    cmin
    co
    #
    cfz
    co
    #
    @59
    vm
    csu
    #
    cN
    @4
    cbc
    co
    #
    @24
    cmul
    co
    #
    caddc
    co
    @61
    wph
    @21
    @62
    @15
    caddc
    co
    #
    @15
    cmin
    co
    @62
    wph
    @3
    @68
    @15
    cmin
    wph
    @3
    @40
    @59
    vm
    csu
    #
    @62
    cN
    cN
    cbc
    co
    #
    @15
    cmul
    co
    #
    caddc
    co
    @68
    wph
    @3
    c1
    cX
    caddc
    co
    #
    cN
    cexp
    co
    #
    @69
    wph
    @0
    @72
    cN
    cexp
    wph
    @29
    @42
    @0
    @72
    wceq
    bpolydiflem.2
    ax-1cn
    cX
    c1
    addcom
    sylancl
    oveq1d
    wph
    @29
    @26
    @73
    @69
    wceq
    bpolydiflem.2
    @28
    cX
    vm
    cN
    binom1p
    syl2anc
    eqtrd
    wph
    @59
    @71
    vm
    cc0
    cN
    wph
    cN
    cn0
    cc0
    cuz
    cfv
    #
    @28
    nn0uz
    syl6eleq
    wph
    @56
    @40
    wcel
    #
    wa
    #
    @57
    @58
    @76
    @57
    @75
    @57
    cn
    wcel
    wph
    @56
    cN
    bccl2
    adantl
    nncnd
    wph
    @29
    @56
    cn0
    wcel
    @58
    cc
    wcel
    @75
    bpolydiflem.2
    @56
    cN
    elfznn0
    cX
    @56
    expcl
    syl2an
    mulcld
    #
    @56
    cN
    wceq
    @57
    @70
    @58
    @15
    cmul
    @56
    cN
    cN
    cbc
    oveq2
    @56
    cN
    cX
    cexp
    oveq2
    oveq12d
    fsumm1
    wph
    @71
    @15
    @62
    caddc
    wph
    @71
    c1
    @15
    cmul
    co
    @15
    wph
    @70
    c1
    @15
    cmul
    wph
    @26
    @70
    c1
    wceq
    @28
    cN
    bcnn
    syl
    oveq1d
    wph
    @15
    @50
    mulid2d
    eqtrd
    oveq2d
    3eqtrd
    oveq1d
    wph
    @62
    @15
    wph
    @5
    @59
    vm
    @31
    wph
    @56
    @5
    wcel
    #
    @75
    @59
    cc
    wcel
    #
    wph
    @5
    @40
    @56
    @45
    sselda
    @77
    syldan
    #
    fsumcl
    @50
    pncand
    eqtrd
    wph
    @59
    @67
    vm
    cc0
    @4
    wph
    @4
    cn0
    @74
    wph
    cN
    cn
    wcel
    #
    @4
    cn0
    wcel
    bpolydiflem.1
    cN
    nnm1nn0
    syl
    #
    nn0uz
    syl6eleq
    #
    @80
    @56
    @4
    wceq
    @57
    @66
    @58
    @24
    cmul
    @56
    @4
    cN
    cbc
    oveq2
    @56
    @4
    cX
    cexp
    oveq2
    oveq12d
    fsumm1
    wph
    @65
    @60
    @67
    @25
    caddc
    wph
    @64
    @55
    @59
    vm
    wph
    @63
    @54
    cc0
    cfz
    wph
    @63
    cN
    c1
    c1
    caddc
    co
    #
    cmin
    co
    @54
    wph
    cN
    c1
    c1
    @43
    wph
    1cnd
    #
    @85
    subsub4d
    c2
    @84
    cN
    cmin
    df-2
    oveq2i
    syl6eqr
    oveq2d
    sumeq1d
    wph
    @66
    cN
    @24
    cmul
    wph
    @26
    @66
    cN
    wceq
    @28
    cN
    bcnm1
    syl
    oveq1d
    oveq12d
    3eqtrd
    wph
    @22
    cN
    cc0
    cbc
    co
    #
    c1
    cN
    cc0
    cmin
    co
    #
    c1
    caddc
    co
    #
    cdiv
    co
    #
    cmul
    co
    #
    cc0
    c1
    caddc
    co
    #
    @4
    cfz
    co
    #
    @12
    vk
    csu
    #
    caddc
    co
    #
    @90
    @92
    @18
    vk
    csu
    #
    caddc
    co
    #
    cmin
    co
    @93
    @95
    cmin
    co
    #
    @60
    wph
    @13
    @94
    @19
    @96
    cmin
    wph
    @13
    @86
    cc0
    @0
    cbp
    co
    #
    @88
    cdiv
    co
    #
    cmul
    co
    #
    @93
    caddc
    co
    @94
    wph
    @12
    @100
    vk
    cc0
    @4
    @83
    @49
    @6
    cc0
    wceq
    #
    @7
    @86
    @11
    @99
    cmul
    @6
    cc0
    cN
    cbc
    oveq2
    #
    @101
    @8
    @98
    @10
    @88
    cdiv
    @6
    cc0
    @0
    cbp
    oveq1
    @101
    @9
    @87
    c1
    caddc
    @6
    cc0
    cN
    cmin
    oveq2
    oveq1d
    #
    oveq12d
    oveq12d
    fsum1p
    wph
    @100
    @90
    @93
    caddc
    wph
    @99
    @89
    @86
    cmul
    wph
    @98
    c1
    @88
    cdiv
    wph
    @27
    @98
    c1
    wceq
    @30
    @0
    bpoly0
    syl
    oveq1d
    oveq2d
    oveq1d
    eqtrd
    wph
    @19
    @86
    cc0
    cX
    cbp
    co
    #
    @88
    cdiv
    co
    #
    cmul
    co
    #
    @95
    caddc
    co
    @96
    wph
    @18
    @106
    vk
    cc0
    @4
    @83
    @53
    @101
    @7
    @86
    @17
    @105
    cmul
    @102
    @101
    @16
    @104
    @10
    @88
    cdiv
    @6
    cc0
    cX
    cbp
    oveq1
    @103
    oveq12d
    oveq12d
    fsum1p
    wph
    @106
    @90
    @95
    caddc
    wph
    @105
    @89
    @86
    cmul
    wph
    @104
    c1
    @88
    cdiv
    wph
    @29
    @104
    c1
    wceq
    bpolydiflem.2
    cX
    bpoly0
    syl
    oveq1d
    oveq2d
    oveq1d
    eqtrd
    oveq12d
    wph
    @90
    @93
    @95
    wph
    @86
    @89
    wph
    @86
    wph
    @26
    cc0
    cz
    wcel
    #
    @86
    cn0
    wcel
    @28
    0z
    cc0
    cN
    bccl
    sylancl
    nn0cnd
    wph
    @89
    wph
    @88
    wph
    @87
    wph
    @87
    cN
    cn
    wph
    cN
    @43
    subid1d
    bpolydiflem.1
    eqeltrd
    peano2nnd
    nnrecred
    recnd
    mulcld
    wph
    @92
    @12
    vk
    wph
    @91
    @4
    fzfid
    #
    @6
    @92
    wcel
    #
    wph
    @32
    @12
    cc
    wcel
    @92
    @5
    @6
    @107
    @92
    @5
    wss
    0z
    cc0
    @4
    fzp1ss
    ax-mp
    sseli
    #
    @49
    sylan2
    #
    fsumcl
    wph
    @92
    @18
    vk
    @108
    @109
    wph
    @32
    @18
    cc
    wcel
    @110
    @53
    sylan2
    #
    fsumcl
    pnpcand
    wph
    @60
    @92
    cN
    @6
    c1
    cmin
    co
    #
    cbc
    co
    #
    cX
    @113
    cexp
    co
    #
    cmul
    co
    #
    vk
    csu
    #
    @92
    @12
    @18
    cmin
    co
    #
    vk
    csu
    @97
    wph
    @60
    @91
    @54
    c1
    caddc
    co
    #
    cfz
    co
    #
    @116
    vk
    csu
    @117
    wph
    @59
    @116
    vm
    vk
    c1
    cc0
    @54
    wph
    1zzd
    wph
    0zd
    wph
    cN
    cz
    wcel
    c2
    cz
    wcel
    @54
    cz
    wcel
    wph
    cN
    bpolydiflem.1
    nnzd
    2z
    cN
    c2
    zsubcl
    sylancl
    wph
    @56
    @55
    wcel
    @78
    @79
    wph
    @55
    @5
    @56
    wph
    cc0
    @119
    cfz
    co
    @55
    @5
    cc0
    @54
    fzssp1
    wph
    @119
    @4
    cc0
    cfz
    wph
    @4
    cN
    c2
    c1
    cmin
    co
    #
    cmin
    co
    @119
    @121
    c1
    cN
    cmin
    2m1e1
    oveq2i
    wph
    cN
    c2
    c1
    @43
    wph
    2cnd
    @85
    subsubd
    syl5reqr
    #
    oveq2d
    syl5sseq
    sselda
    @80
    syldan
    #
    @56
    @113
    wceq
    @57
    @114
    @58
    @115
    cmul
    @56
    @113
    cN
    cbc
    oveq2
    @56
    @113
    cX
    cexp
    oveq2
    oveq12d
    fsumshft
    wph
    @120
    @92
    @116
    vk
    wph
    @119
    @4
    @91
    cfz
    @122
    oveq2d
    sumeq1d
    eqtrd
    wph
    @92
    @118
    @116
    vk
    @109
    wph
    @6
    c1
    @4
    cfz
    co
    #
    wcel
    #
    @118
    @116
    wceq
    @92
    @124
    @6
    @91
    c1
    @4
    cfz
    0p1e1
    oveq1i
    eleq2i
    #
    wph
    @125
    wa
    #
    @7
    @11
    @17
    cmin
    co
    #
    cmul
    co
    @114
    @10
    @6
    cdiv
    co
    #
    cmul
    co
    #
    @6
    @10
    cdiv
    co
    #
    @115
    cmul
    co
    #
    cmul
    co
    #
    @118
    @116
    @127
    @7
    @130
    @128
    @132
    cmul
    @127
    @7
    @114
    cN
    @113
    cmin
    co
    #
    @6
    cdiv
    co
    #
    cmul
    co
    #
    @130
    @127
    @6
    c1
    cN
    cfz
    co
    #
    wcel
    @7
    @136
    wceq
    wph
    @124
    @137
    @6
    wph
    c1
    @41
    cfz
    co
    @124
    @137
    c1
    @4
    fzssp1
    wph
    @41
    cN
    c1
    cfz
    @44
    oveq2d
    syl5sseq
    sselda
    @6
    cN
    bcm1k
    syl
    @127
    @135
    @129
    @114
    cmul
    @127
    @134
    @10
    @6
    cdiv
    @127
    cN
    @6
    c1
    @127
    cN
    wph
    @81
    @125
    bpolydiflem.1
    adantr
    #
    nncnd
    @127
    @6
    @125
    @6
    cn
    wcel
    #
    wph
    @6
    @4
    elfznn
    adantl
    #
    nncnd
    #
    @127
    1cnd
    subsubd
    oveq1d
    oveq2d
    eqtrd
    @127
    @8
    @16
    cmin
    co
    #
    @10
    cdiv
    co
    @6
    @115
    cmul
    co
    #
    @10
    cdiv
    co
    @128
    @132
    @127
    @142
    @143
    @10
    cdiv
    bpolydiflem.3
    oveq1d
    @127
    @8
    @16
    @10
    @125
    wph
    @32
    @36
    @125
    @109
    @32
    @126
    @110
    sylbir
    #
    @38
    sylan2
    #
    @125
    wph
    @32
    @51
    @144
    @52
    sylan2
    #
    @125
    wph
    @32
    @10
    cc
    wcel
    @144
    @47
    sylan2
    #
    @125
    wph
    @32
    @10
    cc0
    wne
    @144
    @48
    sylan2
    #
    divsubdird
    @127
    @6
    @115
    @10
    @141
    @127
    cX
    @113
    wph
    @29
    @125
    bpolydiflem.2
    adantr
    @127
    @139
    @113
    cn0
    wcel
    @140
    @6
    nnm1nn0
    syl
    #
    expcld
    #
    @147
    @148
    div23d
    3eqtr3d
    oveq12d
    @127
    @7
    @11
    @17
    @125
    wph
    @32
    @7
    cc
    wcel
    @144
    @34
    sylan2
    @127
    @8
    @10
    @145
    @147
    @148
    divcld
    @127
    @16
    @10
    @146
    @147
    @148
    divcld
    subdid
    @127
    @133
    @114
    @129
    @132
    cmul
    co
    #
    cmul
    co
    @116
    @127
    @114
    @129
    @132
    @127
    @114
    @127
    @26
    @113
    cz
    wcel
    @114
    cn0
    wcel
    @127
    cN
    @138
    nnnn0d
    @127
    @113
    @149
    nn0zd
    @113
    cN
    bccl
    syl2anc
    nn0cnd
    @127
    @10
    @6
    @147
    @141
    @127
    @6
    @140
    nnne0d
    #
    divcld
    #
    @127
    @131
    @115
    @127
    @6
    @10
    @141
    @147
    @148
    divcld
    #
    @150
    mulcld
    mulassd
    @127
    @151
    @115
    @114
    cmul
    @127
    @129
    @131
    cmul
    co
    #
    @115
    cmul
    co
    c1
    @115
    cmul
    co
    @151
    @115
    @127
    @155
    c1
    @115
    cmul
    @127
    @10
    @6
    @147
    @141
    @148
    @152
    divcan6d
    oveq1d
    @127
    @129
    @131
    @115
    @153
    @154
    @150
    mulassd
    @127
    @115
    @150
    mulid2d
    3eqtr3d
    oveq2d
    eqtrd
    3eqtr3d
    sylan2b
    sumeq2dv
    wph
    @92
    @12
    @18
    vk
    @108
    @111
    @112
    fsumsub
    3eqtr2rd
    3eqtrd
    oveq12d
    wph
    @60
    @25
    wph
    @55
    @59
    vm
    wph
    cc0
    @54
    fzfid
    @123
    fsumcl
    wph
    cN
    @24
    @43
    wph
    cX
    @4
    bpolydiflem.2
    @82
    expcld
    mulcld
    pncan2d
    eqtrd
    3eqtrd
end
