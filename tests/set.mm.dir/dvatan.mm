include "cc.mm"
include "catan.mm"
include "cres.mm"
include "cdv.mm"
include "co.mm"
include "c1.mm"
include "cv.mm"
include "c2.mm"
include "cexp.mm"
include "caddc.mm"
include "cdiv.mm"
include "cmpt.mm"
include "wceq.mm"
include "wtru.mm"
include "ci.mm"
include "cmul.mm"
include "cmin.mm"
include "clog.mm"
include "cfv.mm"
include "cvv.mm"
include "cr.mm"
include "cpr.mm"
include "wcel.mm"
include "cnelprrecn.mm"
include "a1i.mm"
include "wa.mm"
include "ax-1cn.mm"
include "ax-icn.mm"
include "cc0.mm"
include "wne.mm"
include "cdm.mm"
include "w3a.mm"
include "atansssdm.mm"
include "simpr.mm"
include "sseldi.mm"
include "atandm2.mm"
include "sylib.mm"
include "simp1d.mm"
include "mulcl.mm"
include "sylancr.mm"
include "subcl.mm"
include "simp2d.mm"
include "logcld.mm"
include "addcl.mm"
include "simp3d.mm"
include "subcld.mm"
include "ovexd.mm"
include "cneg.mm"
include "atans2.mm"
include "simp2bi.mm"
include "adantl.mm"
include "negex.mm"
include "csn.mm"
include "cdif.mm"
include "crn.mm"
include "logdmss.mm"
include "wf1o.mm"
include "wf.mm"
include "logf1o.mm"
include "f1of.mm"
include "ax-mp.mm"
include "ffvelrni.mm"
include "logrncn.mm"
include "3syl.mm"
include "ccnfld.mm"
include "ctopn.mm"
include "sylan.mm"
include "1cnd.mm"
include "0cnd.mm"
include "dvmptc.mm"
include "dvmptid.mm"
include "dvmptcmul.mm"
include "mulid1i.mm"
include "mpteq2i.mm"
include "syl6eq.mm"
include "dvmptsub.mm"
include "df-neg.mm"
include "syl6eqr.mm"
include "wss.mm"
include "ctopon.mm"
include "eqid.mm"
include "cnfldtopon.mm"
include "atansopn.mm"
include "toponss.mm"
include "mp2an.mm"
include "crest.mm"
include "ctop.mm"
include "cnfldtop.mm"
include "toponunii.mm"
include "restid.mm"
include "eqcomi.mm"
include "dvmptres.mm"
include "fssres.mm"
include "feqmptd.mm"
include "fvres.mm"
include "mpteq2ia.mm"
include "syl6req.mm"
include "oveq2d.mm"
include "dvlog.mm"
include "fveq2.mm"
include "oveq2.mm"
include "dvmptco.mm"
include "irec.mm"
include "oveq2i.mm"
include "ine0.mm"
include "recdiv2d.mm"
include "reccld.mm"
include "divrecd.mm"
include "subdird.mm"
include "mulid2i.mm"
include "mul32d.mm"
include "ixi.mm"
include "oveq1i.mm"
include "mulm1d.mm"
include "syl5eq.mm"
include "eqtrd.mm"
include "oveq12d.mm"
include "subneg.mm"
include "3eqtrd.mm"
include "addcom.mm"
include "3eqtr3d.mm"
include "syl5eqr.mm"
include "mpteq2dva.mm"
include "simp3bi.mm"
include "dvmptadd.mm"
include "addid2i.mm"
include "divdiv2d.mm"
include "divdird.mm"
include "divcan3d.mm"
include "negicn.mm"
include "negsub.mm"
include "sylancl.mm"
include "div23d.mm"
include "3eqtr3rd.mm"
include "sqcld.mm"
include "atandm4.mm"
include "simprbi.mm"
include "syl.mm"
include "divsubdird.mm"
include "oveq1d.mm"
include "pnpcand.mm"
include "eqtr3d.mm"
include "2cn.mm"
include "divreci.mm"
include "eqtri.mm"
include "2timesi.mm"
include "negsubi.mm"
include "3eqtri.mm"
include "mulid1d.mm"
include "mulcomd.mm"
include "i2.mm"
include "subsq.mm"
include "atandm.mm"
include "wb.mm"
include "subeq0.mm"
include "necon3bid.mm"
include "mpbird.mm"
include "eqnetrrd.mm"
include "divcan5d.mm"
include "halfcl.mm"
include "mp1i.mm"
include "df-atan.mm"
include "reseq1i.mm"
include "atanf.mm"
include "fdmi.mm"
include "sseqtri.mm"
include "resmpt.mm"
include "2ne0.mm"
include "divcan6.mm"
include "mp4an.mm"
include "divcli.mm"
include "divassd.mm"
include "3eqtr4d.mm"
include "trud.mm"

theorem dvatan
  let vx: setvar x
  let vy: setvar y
  let cD: class D
  let cS: class S
  let cA: class A
  assume atansopn.d: |- D = ( CC \ ( -oo (,] 0 ) )
  assume atansopn.s: |- S = { y e. CC | ( 1 + ( y ^ 2 ) ) e. D }

  disjoint x y
  disjoint D x
  disjoint D y
  disjoint S x
  disjoint A y
  assert |- ( CC _D ( arctan |` S ) ) = ( x e. S |-> ( 1 / ( 1 + ( x ^ 2 ) ) ) )

  proof
    cc
    catan
    cS
    cres
    #
    cdv
    co
    #
    vx
    cS
    c1
    c1
    vx
    cv
    #
    c2
    cexp
    co
    #
    caddc
    co
    #
    cdiv
    co
    #
    cmpt
    #
    wceq
    wtru
    cc
    vx
    cS
    ci
    c2
    cdiv
    co
    #
    c1
    ci
    @2
    cmul
    co
    #
    cmin
    co
    #
    clog
    cfv
    #
    c1
    @8
    caddc
    co
    #
    clog
    cfv
    #
    cmin
    co
    #
    cmul
    co
    #
    cmpt
    #
    cdv
    co
    vx
    cS
    @7
    c2
    ci
    cdiv
    co
    #
    @4
    cdiv
    co
    #
    cmul
    co
    #
    cmpt
    @1
    @6
    wtru
    vx
    @13
    @17
    @7
    cc
    cvv
    cS
    cc
    cr
    cc
    cpr
    wcel
    wtru
    cnelprrecn
    a1i
    #
    wtru
    @2
    cS
    wcel
    #
    wa
    #
    @10
    @12
    @21
    @9
    @21
    c1
    cc
    wcel
    #
    @8
    cc
    wcel
    #
    @9
    cc
    wcel
    #
    ax-1cn
    @21
    ci
    cc
    wcel
    #
    @2
    cc
    wcel
    #
    @23
    ax-icn
    @21
    @26
    @9
    cc0
    wne
    #
    @11
    cc0
    wne
    #
    @21
    @2
    catan
    cdm
    #
    wcel
    #
    @26
    @27
    @28
    w3a
    @21
    cS
    @29
    @2
    vy
    cD
    cS
    atansopn.d
    atansopn.s
    atansssdm
    #
    wtru
    @20
    simpr
    sseldi
    #
    @2
    atandm2
    sylib
    #
    simp1d
    #
    ci
    @2
    mulcl
    #
    sylancr
    #
    c1
    @8
    subcl
    #
    sylancr
    #
    @21
    @26
    @27
    @28
    @33
    simp2d
    #
    logcld
    #
    @21
    @11
    @21
    @22
    @23
    @11
    cc
    wcel
    #
    ax-1cn
    @36
    c1
    @8
    addcl
    #
    sylancr
    #
    @21
    @26
    @27
    @28
    @33
    simp3d
    #
    logcld
    #
    subcld
    @21
    @16
    @4
    cdiv
    ovexd
    wtru
    cc
    vx
    cS
    @13
    cmpt
    cdv
    co
    vx
    cS
    c1
    @2
    ci
    caddc
    co
    #
    cdiv
    co
    #
    c1
    @2
    ci
    cmin
    co
    #
    cdiv
    co
    #
    cmin
    co
    #
    cmpt
    vx
    cS
    @17
    cmpt
    wtru
    vx
    @10
    @47
    @12
    @49
    cc
    cvv
    cvv
    cS
    @19
    @40
    @21
    c1
    @46
    cdiv
    ovexd
    wtru
    cc
    vx
    cS
    @10
    cmpt
    cdv
    co
    vx
    cS
    c1
    @9
    cdiv
    co
    #
    ci
    cneg
    #
    cmul
    co
    #
    cmpt
    vx
    cS
    @47
    cmpt
    wtru
    vx
    vy
    @9
    @52
    vy
    cv
    #
    clog
    cfv
    #
    c1
    @54
    cdiv
    co
    #
    cc
    cc
    @10
    @51
    cvv
    cvv
    cS
    cD
    @19
    @19
    @20
    @9
    cD
    wcel
    #
    wtru
    @20
    @26
    @57
    @11
    cD
    wcel
    #
    vy
    @2
    cD
    cS
    atansopn.d
    atansopn.s
    atans2
    #
    simp2bi
    adantl
    @52
    cvv
    wcel
    #
    @21
    ci
    negex
    #
    a1i
    wtru
    @54
    cD
    wcel
    #
    wa
    #
    @54
    cc
    cc0
    csn
    cdif
    #
    wcel
    @55
    clog
    crn
    #
    wcel
    @55
    cc
    wcel
    @63
    cD
    @64
    @54
    cD
    atansopn.d
    logdmss
    #
    wtru
    @62
    simpr
    sseldi
    @64
    @65
    @54
    clog
    @64
    @65
    clog
    wf1o
    @64
    @65
    clog
    wf
    #
    logf1o
    @64
    @65
    clog
    f1of
    ax-mp
    #
    ffvelrni
    @55
    logrncn
    3syl
    #
    @63
    c1
    @54
    cdiv
    ovexd
    #
    wtru
    vx
    @9
    @52
    cc
    ccnfld
    ctopn
    cfv
    #
    @71
    cvv
    cc
    cS
    @19
    wtru
    @26
    wa
    #
    @22
    @23
    @24
    ax-1cn
    wtru
    @25
    @26
    @23
    @25
    wtru
    ax-icn
    a1i
    #
    @35
    sylan
    #
    @37
    sylancr
    @60
    @72
    @61
    a1i
    wtru
    cc
    vx
    cc
    @9
    cmpt
    cdv
    co
    vx
    cc
    cc0
    ci
    cmin
    co
    #
    cmpt
    vx
    cc
    @52
    cmpt
    wtru
    vx
    c1
    cc0
    @8
    ci
    cc
    cc
    cc
    cc
    @19
    @72
    1cnd
    #
    @72
    0cnd
    #
    wtru
    vx
    c1
    cc
    @19
    wtru
    1cnd
    dvmptc
    #
    @74
    @25
    @72
    ax-icn
    a1i
    #
    wtru
    cc
    vx
    cc
    @8
    cmpt
    cdv
    co
    vx
    cc
    ci
    c1
    cmul
    co
    #
    cmpt
    vx
    cc
    ci
    cmpt
    #
    wtru
    vx
    @2
    c1
    ci
    cc
    cc
    cc
    @19
    wtru
    @26
    simpr
    @76
    wtru
    vx
    cc
    @19
    dvmptid
    @73
    dvmptcmul
    vx
    cc
    @80
    ci
    ci
    ax-icn
    mulid1i
    mpteq2i
    syl6eq
    #
    dvmptsub
    vx
    cc
    @52
    @75
    ci
    df-neg
    mpteq2i
    syl6eqr
    cS
    cc
    wss
    #
    wtru
    @71
    cc
    ctopon
    cfv
    wcel
    cS
    @71
    wcel
    #
    @83
    @71
    @71
    eqid
    #
    cnfldtopon
    #
    vy
    cD
    cS
    atansopn.d
    atansopn.s
    atansopn
    #
    cS
    @71
    cc
    toponss
    mp2an
    a1i
    #
    @71
    cc
    crest
    co
    #
    @71
    @71
    ctop
    wcel
    @89
    @71
    wceq
    @71
    @85
    cnfldtop
    @71
    ctop
    cc
    cc
    @71
    @86
    toponunii
    restid
    ax-mp
    eqcomi
    #
    @85
    @84
    wtru
    @87
    a1i
    #
    dvmptres
    wtru
    cc
    vy
    cD
    @55
    cmpt
    #
    cdv
    co
    cc
    clog
    cD
    cres
    #
    cdv
    co
    vy
    cD
    @56
    cmpt
    wtru
    @92
    @93
    cc
    cdv
    wtru
    @93
    vy
    cD
    @54
    @93
    cfv
    #
    cmpt
    @92
    wtru
    vy
    cD
    @65
    @93
    cD
    @65
    @93
    wf
    #
    wtru
    @67
    cD
    @64
    wss
    @95
    @68
    @66
    @64
    @65
    cD
    clog
    fssres
    mp2an
    a1i
    feqmptd
    vy
    cD
    @94
    @55
    @54
    cD
    clog
    fvres
    mpteq2ia
    syl6req
    oveq2d
    vy
    cD
    atansopn.d
    dvlog
    syl6eq
    #
    @54
    @9
    clog
    fveq2
    @54
    @9
    c1
    cdiv
    oveq2
    dvmptco
    wtru
    vx
    cS
    @53
    @47
    @21
    @53
    @51
    c1
    ci
    cdiv
    co
    #
    cmul
    co
    #
    @47
    @97
    @52
    @51
    cmul
    irec
    oveq2i
    @21
    @51
    ci
    cdiv
    co
    c1
    @9
    ci
    cmul
    co
    #
    cdiv
    co
    @98
    @47
    @21
    @9
    ci
    @38
    @25
    @21
    ax-icn
    a1i
    #
    @39
    ci
    cc0
    wne
    #
    @21
    ine0
    a1i
    #
    recdiv2d
    @21
    @51
    ci
    @21
    @9
    @38
    @39
    reccld
    @100
    @102
    divrecd
    @21
    @99
    @46
    c1
    cdiv
    @21
    @99
    ci
    @2
    caddc
    co
    #
    @46
    @21
    @99
    c1
    ci
    cmul
    co
    #
    @8
    ci
    cmul
    co
    #
    cmin
    co
    ci
    @2
    cneg
    #
    cmin
    co
    #
    @103
    @21
    c1
    @8
    ci
    @21
    1cnd
    #
    @36
    @100
    subdird
    @21
    @104
    ci
    @105
    @106
    cmin
    @104
    ci
    wceq
    @21
    ci
    ax-icn
    mulid2i
    a1i
    @21
    @105
    ci
    ci
    cmul
    co
    #
    @2
    cmul
    co
    #
    @106
    @21
    ci
    @2
    ci
    @100
    @34
    @100
    mul32d
    @21
    @110
    c1
    cneg
    #
    @2
    cmul
    co
    @106
    @109
    @111
    @2
    cmul
    ixi
    oveq1i
    @21
    @2
    @34
    mulm1d
    syl5eq
    eqtrd
    oveq12d
    @21
    @25
    @26
    @107
    @103
    wceq
    ax-icn
    @34
    ci
    @2
    subneg
    sylancr
    3eqtrd
    @21
    @25
    @26
    @103
    @46
    wceq
    ax-icn
    @34
    ci
    @2
    addcom
    sylancr
    eqtrd
    oveq2d
    3eqtr3d
    syl5eqr
    mpteq2dva
    eqtrd
    @45
    @21
    c1
    @48
    cdiv
    ovexd
    wtru
    cc
    vx
    cS
    @12
    cmpt
    cdv
    co
    vx
    cS
    c1
    @11
    cdiv
    co
    #
    ci
    cmul
    co
    #
    cmpt
    vx
    cS
    @49
    cmpt
    wtru
    vx
    vy
    @11
    ci
    @55
    @56
    cc
    cc
    @12
    @112
    cc
    cvv
    cS
    cD
    @19
    @19
    @20
    @58
    wtru
    @20
    @26
    @57
    @58
    @59
    simp3bi
    adantl
    @100
    @69
    @70
    wtru
    vx
    @11
    ci
    cc
    @71
    @71
    cc
    cc
    cS
    @19
    @72
    @22
    @23
    @41
    ax-1cn
    @74
    @42
    sylancr
    @79
    wtru
    cc
    vx
    cc
    @11
    cmpt
    cdv
    co
    vx
    cc
    cc0
    ci
    caddc
    co
    #
    cmpt
    @81
    wtru
    vx
    c1
    cc0
    @8
    ci
    cc
    cc
    cc
    cc
    @19
    @76
    @77
    @78
    @74
    @79
    @82
    dvmptadd
    vx
    cc
    @114
    ci
    ci
    ax-icn
    addid2i
    mpteq2i
    syl6eq
    @88
    @90
    @85
    @91
    dvmptres
    @96
    @54
    @11
    clog
    fveq2
    @54
    @11
    c1
    cdiv
    oveq2
    dvmptco
    wtru
    vx
    cS
    @113
    @49
    @21
    c1
    @11
    ci
    cdiv
    co
    #
    cdiv
    co
    @104
    @11
    cdiv
    co
    @49
    @113
    @21
    c1
    @11
    ci
    @108
    @43
    @100
    @44
    @102
    divdiv2d
    @21
    @115
    @48
    c1
    cdiv
    @21
    @115
    @97
    @8
    ci
    cdiv
    co
    #
    caddc
    co
    @52
    @2
    caddc
    co
    #
    @48
    @21
    c1
    @8
    ci
    @108
    @36
    @100
    @102
    divdird
    @21
    @97
    @52
    @116
    @2
    caddc
    @97
    @52
    wceq
    @21
    irec
    a1i
    @21
    @2
    ci
    @34
    @100
    @102
    divcan3d
    oveq12d
    @21
    @117
    @2
    @52
    caddc
    co
    #
    @48
    @21
    @52
    cc
    wcel
    #
    @26
    @117
    @118
    wceq
    negicn
    @34
    @52
    @2
    addcom
    sylancr
    @21
    @26
    @25
    @118
    @48
    wceq
    @34
    ax-icn
    @2
    ci
    negsub
    sylancl
    #
    eqtrd
    3eqtrd
    oveq2d
    @21
    c1
    ci
    @11
    @108
    @100
    @43
    @44
    div23d
    3eqtr3rd
    mpteq2dva
    eqtrd
    dvmptsub
    wtru
    vx
    cS
    @50
    @17
    @21
    @48
    @46
    cmin
    co
    #
    @4
    cdiv
    co
    @48
    @4
    cdiv
    co
    #
    @46
    @4
    cdiv
    co
    #
    cmin
    co
    @17
    @50
    @21
    @48
    @46
    @4
    @21
    @26
    @25
    @48
    cc
    wcel
    @34
    ax-icn
    @2
    ci
    subcl
    sylancl
    #
    @21
    @26
    @25
    @46
    cc
    wcel
    @34
    ax-icn
    @2
    ci
    addcl
    sylancl
    #
    @21
    @22
    @3
    cc
    wcel
    #
    @4
    cc
    wcel
    ax-1cn
    @21
    @2
    @34
    sqcld
    #
    c1
    @3
    addcl
    sylancr
    #
    @21
    @30
    @4
    cc0
    wne
    #
    @32
    @30
    @26
    @129
    @2
    atandm4
    simprbi
    syl
    #
    divsubdird
    @21
    @121
    @16
    @4
    cdiv
    @21
    @121
    @52
    ci
    cmin
    co
    #
    @16
    @21
    @118
    @46
    cmin
    co
    @121
    @131
    @21
    @118
    @48
    @46
    cmin
    @120
    oveq1d
    @21
    @2
    @52
    ci
    @34
    @119
    @21
    negicn
    a1i
    @100
    pnpcand
    eqtr3d
    @16
    c2
    @52
    cmul
    co
    #
    @52
    @52
    caddc
    co
    @131
    @16
    c2
    @97
    cmul
    co
    @132
    c2
    ci
    2cn
    ax-icn
    ine0
    divreci
    @97
    @52
    c2
    cmul
    irec
    oveq2i
    eqtri
    @52
    negicn
    2timesi
    @52
    ci
    negicn
    ax-icn
    negsubi
    3eqtri
    syl6eqr
    oveq1d
    @21
    @122
    @47
    @123
    @49
    cmin
    @21
    @48
    c1
    cmul
    co
    #
    @48
    @46
    cmul
    co
    #
    cdiv
    co
    @122
    @47
    @21
    @133
    @48
    @134
    @4
    cdiv
    @21
    @48
    @124
    mulid1d
    @21
    @134
    @46
    @48
    cmul
    co
    #
    @4
    @21
    @48
    @46
    @124
    @125
    mulcomd
    @21
    @3
    ci
    c2
    cexp
    co
    #
    cmin
    co
    #
    @3
    c1
    caddc
    co
    #
    @135
    @4
    @21
    @137
    @3
    @111
    cmin
    co
    #
    @138
    @136
    @111
    @3
    cmin
    i2
    oveq2i
    @21
    @126
    @22
    @139
    @138
    wceq
    @127
    ax-1cn
    @3
    c1
    subneg
    sylancl
    syl5eq
    @21
    @26
    @25
    @137
    @135
    wceq
    @34
    ax-icn
    @2
    ci
    subsq
    sylancl
    @21
    @126
    @22
    @138
    @4
    wceq
    @127
    ax-1cn
    @3
    c1
    addcom
    sylancl
    3eqtr3d
    #
    eqtrd
    oveq12d
    @21
    c1
    @46
    @48
    @108
    @125
    @124
    @21
    @2
    @52
    cmin
    co
    #
    @46
    cc0
    @21
    @26
    @25
    @141
    @46
    wceq
    @34
    ax-icn
    @2
    ci
    subneg
    sylancl
    @21
    @141
    cc0
    wne
    #
    @2
    @52
    wne
    #
    @21
    @26
    @143
    @2
    ci
    wne
    #
    @21
    @30
    @26
    @143
    @144
    w3a
    @32
    @2
    atandm
    sylib
    #
    simp2d
    @21
    @26
    @119
    @142
    @143
    wb
    @34
    negicn
    @26
    @119
    wa
    @141
    cc0
    @2
    @52
    @2
    @52
    subeq0
    necon3bid
    sylancl
    mpbird
    eqnetrrd
    #
    @21
    @48
    cc0
    wne
    #
    @144
    @21
    @26
    @143
    @144
    @145
    simp3d
    @21
    @26
    @25
    @147
    @144
    wb
    @34
    ax-icn
    @26
    @25
    wa
    @48
    cc0
    @2
    ci
    @2
    ci
    subeq0
    necon3bid
    sylancl
    mpbird
    #
    divcan5d
    eqtr3d
    @21
    @46
    c1
    cmul
    co
    #
    @135
    cdiv
    co
    @123
    @49
    @21
    @149
    @46
    @135
    @4
    cdiv
    @21
    @46
    @125
    mulid1d
    @140
    oveq12d
    @21
    c1
    @48
    @46
    @108
    @124
    @125
    @148
    @146
    divcan5d
    eqtr3d
    oveq12d
    3eqtr3rd
    mpteq2dva
    eqtrd
    @25
    @7
    cc
    wcel
    #
    wtru
    ax-icn
    ci
    halfcl
    #
    mp1i
    dvmptcmul
    wtru
    @0
    @15
    cc
    cdv
    @0
    @15
    wceq
    wtru
    @0
    vx
    cc
    @52
    ci
    cpr
    cdif
    #
    @14
    cmpt
    #
    cS
    cres
    #
    @15
    catan
    @153
    cS
    vx
    df-atan
    reseq1i
    cS
    @152
    wss
    @154
    @15
    wceq
    cS
    @29
    @152
    @31
    @152
    cc
    catan
    atanf
    fdmi
    sseqtri
    vx
    @152
    cS
    @14
    resmpt
    ax-mp
    eqtri
    a1i
    oveq2d
    wtru
    vx
    cS
    @5
    @18
    @21
    @5
    @7
    @16
    cmul
    co
    #
    @4
    cdiv
    co
    @18
    @155
    c1
    @4
    cdiv
    @25
    @101
    c2
    cc
    wcel
    c2
    cc0
    wne
    @155
    c1
    wceq
    ax-icn
    ine0
    2cn
    2ne0
    ci
    c2
    divcan6
    mp4an
    oveq1i
    @21
    @7
    @16
    @4
    @25
    @150
    @21
    ax-icn
    @151
    mp1i
    @16
    cc
    wcel
    @21
    c2
    ci
    2cn
    ax-icn
    ine0
    divcli
    a1i
    @128
    @130
    divassd
    syl5eqr
    mpteq2dva
    3eqtr4d
    trud
end
