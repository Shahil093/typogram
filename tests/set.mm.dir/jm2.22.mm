include "c2.mm"
include "cuz.mm"
include "cfv.mm"
include "wcel.mm"
include "cz.mm"
include "cn0.mm"
include "w3a.mm"
include "cmul.mm"
include "co.mm"
include "crmx.mm"
include "cv.mm"
include "cdvds.mm"
include "wbr.mm"
include "cc0.mm"
include "cfz.mm"
include "crab.mm"
include "cbc.mm"
include "cmin.mm"
include "cexp.mm"
include "c1.mm"
include "csqrt.mm"
include "crmy.mm"
include "csu.mm"
include "wceq.mm"
include "wn.mm"
include "cdiv.mm"
include "caddc.mm"
include "wa.mm"
include "nn0z.mm"
include "jm2.21.mm"
include "syl3an3.mm"
include "cc.mm"
include "frmx.mm"
include "fovcl.mm"
include "3adant3.mm"
include "nn0cnd.mm"
include "eluzelz.mm"
include "zsqcl.mm"
include "peano2zm.mm"
include "3syl.mm"
include "3ad2ant1.mm"
include "zcnd.mm"
include "sqrtcld.mm"
include "frmy.mm"
include "mulcld.mm"
include "simp3.mm"
include "binom.mm"
include "syl3anc.mm"
include "cin.mm"
include "c0.mm"
include "rabnc.mm"
include "a1i.mm"
include "cun.mm"
include "rabxm.mm"
include "fzfid.mm"
include "simpl3.mm"
include "elfzelz.mm"
include "adantl.mm"
include "bccl.mm"
include "nn0zd.mm"
include "syl2anc.mm"
include "adantr.mm"
include "fznn0sub.mm"
include "expcld.mm"
include "elfznn0.mm"
include "fsumsplit.mm"
include "cfn.mm"
include "wss.mm"
include "fzfi.mm"
include "ssrab2.mm"
include "ssfi.mm"
include "mp2an.mm"
include "breq2.mm"
include "notbid.mm"
include "elrab.mm"
include "adantrr.mm"
include "zexpcl.mm"
include "syl2an.mm"
include "cle.mm"
include "simpr.mm"
include "1zzd.mm"
include "n2dvds1.mm"
include "omoe.mm"
include "syl22anc.mm"
include "wne.mm"
include "wb.mm"
include "2z.mm"
include "2ne0.mm"
include "syl.mm"
include "dvdsval2.mm"
include "mpbid.mm"
include "cr.mm"
include "clt.mm"
include "zred.mm"
include "cn.mm"
include "wo.mm"
include "dvds0.mm"
include "ax-mp.mm"
include "mpbiri.mm"
include "con3i.mm"
include "elnn0.mm"
include "sylib.mm"
include "orel2.mm"
include "sylc.mm"
include "nnm1nn0.mm"
include "nn0ge0d.mm"
include "2re.mm"
include "2pos.mm"
include "divge0.mm"
include "elnn0z.mm"
include "sylanbrc.mm"
include "sylan2b.mm"
include "fsummulc2.mm"
include "mul12d.mm"
include "mulcomd.mm"
include "2nn0.mm"
include "expmuld.mm"
include "ad2antrl.mm"
include "2cnd.mm"
include "divcan2d.mm"
include "oveq2d.mm"
include "sqsqrtd.mm"
include "oveq1d.mm"
include "3eqtr3rd.mm"
include "expm1t.mm"
include "3eqtr4d.mm"
include "eqtrd.mm"
include "mulexpd.mm"
include "sumeq2dv.mm"
include "eqtr2d.mm"
include "3eqtrd.mm"
include "cq.mm"
include "cdif.mm"
include "rmspecsqrtnq.mm"
include "nn0ssq.mm"
include "simp1.mm"
include "simp2.mm"
include "3ad2ant3.mm"
include "zmulcld.mm"
include "sseldi.mm"
include "zssq.mm"
include "eqcomd.mm"
include "biimpa.mm"
include "nn0re.mm"
include "nn0ge0.mm"
include "sylan.mm"
include "eqeltrd.mm"
include "fsumzcl.mm"
include "qirropth.mm"
include "syl122anc.mm"
include "simprd.mm"

theorem jm2.22
  let vx: setvar x
  let cA: class A
  let vi: setvar i
  let cJ: class J
  let cN: class N

  disjoint A i
  disjoint A x
  disjoint i x
  disjoint N i
  disjoint N x
  disjoint J i
  disjoint J x
  assert |- ( ( A e. ( ZZ>= ` 2 ) /\ N e. ZZ /\ J e. NN0 ) -> ( A rmY ( N x. J ) ) = sum_ i e. { x e. ( 0 ... J ) | -. 2 || x } ( ( J _C i ) x. ( ( ( A rmX N ) ^ ( J - i ) ) x. ( ( ( A rmY N ) ^ i ) x. ( ( ( A ^ 2 ) - 1 ) ^ ( ( i - 1 ) / 2 ) ) ) ) ) )

  proof
    cA
    c2
    cuz
    cfv
    #
    wcel
    #
    cN
    cz
    wcel
    #
    cJ
    cn0
    wcel
    #
    w3a
    #
    cA
    cN
    cJ
    cmul
    co
    #
    crmx
    co
    #
    c2
    vx
    cv
    #
    cdvds
    wbr
    #
    vx
    cc0
    cJ
    cfz
    co
    #
    crab
    #
    cJ
    vi
    cv
    #
    cbc
    co
    #
    cA
    cN
    crmx
    co
    #
    cJ
    @11
    cmin
    co
    #
    cexp
    co
    #
    cA
    c2
    cexp
    co
    #
    c1
    cmin
    co
    #
    csqrt
    cfv
    #
    cA
    cN
    crmy
    co
    #
    cmul
    co
    #
    @11
    cexp
    co
    #
    cmul
    co
    #
    cmul
    co
    #
    vi
    csu
    #
    wceq
    #
    cA
    @5
    crmy
    co
    #
    @8
    wn
    #
    vx
    @9
    crab
    #
    @12
    @15
    @19
    @11
    cexp
    co
    #
    @17
    @11
    c1
    cmin
    co
    #
    c2
    cdiv
    co
    #
    cexp
    co
    #
    cmul
    co
    #
    cmul
    co
    #
    cmul
    co
    #
    vi
    csu
    #
    wceq
    #
    @4
    @6
    @18
    @26
    cmul
    co
    caddc
    co
    #
    @24
    @18
    @36
    cmul
    co
    #
    caddc
    co
    #
    wceq
    #
    @25
    @37
    wa
    #
    @4
    @38
    @13
    @20
    caddc
    co
    cJ
    cexp
    co
    #
    @9
    @23
    vi
    csu
    #
    @40
    @3
    @1
    @2
    cJ
    cz
    wcel
    #
    @38
    @43
    wceq
    cJ
    nn0z
    #
    cA
    cJ
    cN
    jm2.21
    syl3an3
    @4
    @13
    cc
    wcel
    @20
    cc
    wcel
    @3
    @43
    @44
    wceq
    @4
    @13
    @1
    @2
    @13
    cn0
    wcel
    @3
    cA
    cN
    cn0
    @0
    cz
    crmx
    frmx
    fovcl
    3adant3
    #
    nn0cnd
    @4
    @18
    @19
    @4
    @17
    @4
    @17
    @1
    @2
    @17
    cz
    wcel
    #
    @3
    @1
    cA
    cz
    wcel
    @16
    cz
    wcel
    @48
    c2
    cA
    eluzelz
    cA
    zsqcl
    @16
    peano2zm
    3syl
    3ad2ant1
    #
    zcnd
    sqrtcld
    #
    @4
    @19
    @1
    @2
    @19
    cz
    wcel
    #
    @3
    cA
    cN
    cz
    @0
    cz
    crmy
    frmy
    fovcl
    3adant3
    #
    zcnd
    mulcld
    @1
    @2
    @3
    simp3
    @13
    @20
    vi
    cJ
    binom
    syl3anc
    @4
    @44
    @24
    @28
    @23
    vi
    csu
    #
    caddc
    co
    @40
    @4
    @10
    @28
    @23
    @9
    vi
    @10
    @28
    cin
    c0
    wceq
    @4
    @8
    vx
    @9
    rabnc
    a1i
    @9
    @10
    @28
    cun
    wceq
    @4
    @8
    vx
    @9
    rabxm
    a1i
    @4
    cc0
    cJ
    fzfid
    @4
    @11
    @9
    wcel
    #
    wa
    #
    @12
    @22
    @55
    @12
    @55
    @3
    @11
    cz
    wcel
    #
    @12
    cz
    wcel
    #
    @1
    @2
    @3
    @54
    simpl3
    @54
    @56
    @4
    @11
    cc0
    cJ
    elfzelz
    #
    adantl
    @3
    @56
    wa
    @12
    @11
    cJ
    bccl
    nn0zd
    syl2anc
    #
    zcnd
    #
    @55
    @15
    @21
    @55
    @13
    @14
    @55
    @13
    @4
    @13
    cz
    wcel
    #
    @54
    @4
    @13
    @47
    nn0zd
    adantr
    #
    zcnd
    @54
    @14
    cn0
    wcel
    #
    @4
    @11
    cc0
    cJ
    fznn0sub
    adantl
    #
    expcld
    #
    @55
    @20
    @11
    @55
    @18
    @19
    @55
    @17
    @55
    @17
    @4
    @48
    @54
    @49
    adantr
    zcnd
    #
    sqrtcld
    #
    @55
    @19
    @4
    @51
    @54
    @52
    adantr
    zcnd
    #
    mulcld
    @54
    @11
    cn0
    wcel
    #
    @4
    @11
    cJ
    elfznn0
    #
    adantl
    #
    expcld
    mulcld
    mulcld
    fsumsplit
    @4
    @53
    @39
    @24
    caddc
    @4
    @39
    @28
    @18
    @35
    cmul
    co
    #
    vi
    csu
    @53
    @4
    @28
    @35
    @18
    vi
    @28
    cfn
    wcel
    #
    @4
    @9
    cfn
    wcel
    #
    @28
    @9
    wss
    @73
    cc0
    cJ
    fzfi
    #
    @27
    vx
    @9
    ssrab2
    @9
    @28
    ssfi
    mp2an
    a1i
    #
    @50
    @11
    @28
    wcel
    #
    @4
    @54
    c2
    @11
    cdvds
    wbr
    #
    wn
    #
    wa
    #
    @35
    cc
    wcel
    @27
    @79
    vx
    @11
    @9
    @7
    @11
    wceq
    @8
    @78
    @7
    @11
    c2
    cdvds
    breq2
    #
    notbid
    elrab
    #
    @4
    @80
    wa
    #
    @12
    @34
    @4
    @54
    @12
    cc
    wcel
    @79
    @60
    adantrr
    #
    @83
    @15
    @33
    @4
    @54
    @15
    cc
    wcel
    @79
    @65
    adantrr
    #
    @83
    @29
    @32
    @4
    @54
    @29
    cc
    wcel
    @79
    @55
    @29
    @4
    @51
    @69
    @29
    cz
    wcel
    #
    @54
    @52
    @70
    @19
    @11
    zexpcl
    syl2an
    #
    zcnd
    adantrr
    #
    @83
    @17
    @31
    @4
    @54
    @17
    cc
    wcel
    #
    @79
    @66
    adantrr
    #
    @80
    @31
    cn0
    wcel
    #
    @4
    @80
    @31
    cz
    wcel
    #
    cc0
    @31
    cle
    wbr
    #
    @91
    @80
    c2
    @30
    cdvds
    wbr
    #
    @92
    @80
    @56
    @79
    c1
    cz
    wcel
    c2
    c1
    cdvds
    wbr
    wn
    #
    @94
    @54
    @56
    @79
    @58
    adantr
    @54
    @79
    simpr
    @80
    1zzd
    @95
    @80
    n2dvds1
    a1i
    @11
    c1
    omoe
    syl22anc
    @80
    c2
    cz
    wcel
    #
    c2
    cc0
    wne
    #
    @30
    cz
    wcel
    #
    @94
    @92
    wb
    @96
    @80
    2z
    a1i
    @97
    @80
    2ne0
    a1i
    @54
    @98
    @79
    @54
    @56
    @98
    @58
    @11
    peano2zm
    syl
    #
    adantr
    c2
    @30
    dvdsval2
    syl3anc
    mpbid
    @80
    @30
    cr
    wcel
    #
    cc0
    @30
    cle
    wbr
    c2
    cr
    wcel
    #
    cc0
    c2
    clt
    wbr
    #
    @93
    @54
    @100
    @79
    @54
    @30
    @99
    zred
    adantr
    @80
    @30
    @80
    @11
    cn
    wcel
    #
    @30
    cn0
    wcel
    @80
    @11
    cc0
    wceq
    #
    wn
    #
    @103
    @104
    wo
    #
    @103
    @79
    @105
    @54
    @104
    @78
    @104
    @78
    c2
    cc0
    cdvds
    wbr
    #
    @96
    @107
    2z
    c2
    dvds0
    ax-mp
    @11
    cc0
    c2
    cdvds
    breq2
    mpbiri
    con3i
    adantl
    @80
    @69
    @106
    @54
    @69
    @79
    @70
    adantr
    @11
    elnn0
    sylib
    @104
    @103
    orel2
    sylc
    #
    @11
    nnm1nn0
    syl
    nn0ge0d
    @101
    @80
    2re
    a1i
    @102
    @80
    2pos
    a1i
    @30
    c2
    divge0
    syl22anc
    @31
    elnn0z
    sylanbrc
    #
    adantl
    #
    expcld
    #
    mulcld
    #
    mulcld
    #
    mulcld
    sylan2b
    fsummulc2
    @4
    @28
    @72
    @23
    vi
    @77
    @4
    @80
    @72
    @23
    wceq
    @82
    @83
    @72
    @12
    @18
    @34
    cmul
    co
    #
    cmul
    co
    @23
    @83
    @18
    @12
    @34
    @4
    @54
    @18
    cc
    wcel
    #
    @79
    @67
    adantrr
    #
    @84
    @113
    mul12d
    @83
    @114
    @22
    @12
    cmul
    @83
    @114
    @15
    @18
    @33
    cmul
    co
    #
    cmul
    co
    @22
    @83
    @18
    @15
    @33
    @116
    @85
    @112
    mul12d
    @83
    @117
    @21
    @15
    cmul
    @83
    @29
    @18
    @11
    cexp
    co
    #
    cmul
    co
    #
    @118
    @29
    cmul
    co
    #
    @117
    @21
    @83
    @29
    @118
    @88
    @4
    @54
    @118
    cc
    wcel
    @79
    @55
    @18
    @11
    @67
    @71
    expcld
    adantrr
    mulcomd
    @83
    @117
    @29
    @18
    @32
    cmul
    co
    #
    cmul
    co
    @119
    @83
    @18
    @29
    @32
    @116
    @88
    @111
    mul12d
    @83
    @121
    @118
    @29
    cmul
    @83
    @32
    @18
    cmul
    co
    @18
    @30
    cexp
    co
    #
    @18
    cmul
    co
    #
    @121
    @118
    @83
    @32
    @122
    @18
    cmul
    @83
    @18
    c2
    @31
    cmul
    co
    #
    cexp
    co
    @18
    c2
    cexp
    co
    #
    @31
    cexp
    co
    @122
    @32
    @83
    @18
    c2
    @31
    @116
    @110
    c2
    cn0
    wcel
    #
    @83
    2nn0
    a1i
    expmuld
    @83
    @124
    @30
    @18
    cexp
    @83
    @30
    c2
    @54
    @30
    cc
    wcel
    @4
    @79
    @54
    @30
    @99
    zcnd
    ad2antrl
    @83
    2cnd
    @97
    @83
    2ne0
    a1i
    divcan2d
    oveq2d
    @83
    @125
    @17
    @31
    cexp
    @83
    @17
    @90
    sqsqrtd
    oveq1d
    3eqtr3rd
    oveq1d
    @83
    @18
    @32
    @116
    @111
    mulcomd
    @83
    @115
    @103
    @118
    @123
    wceq
    @116
    @80
    @103
    @4
    @108
    adantl
    @18
    @11
    expm1t
    syl2anc
    3eqtr4d
    oveq2d
    eqtrd
    @4
    @54
    @21
    @120
    wceq
    @79
    @55
    @18
    @19
    @11
    @67
    @68
    @71
    mulexpd
    adantrr
    3eqtr4d
    oveq2d
    eqtrd
    oveq2d
    eqtrd
    sylan2b
    sumeq2dv
    eqtr2d
    oveq2d
    eqtrd
    3eqtrd
    @4
    @18
    cc
    cq
    cdif
    wcel
    #
    @6
    cq
    wcel
    @26
    cq
    wcel
    @24
    cq
    wcel
    @36
    cq
    wcel
    @41
    @42
    wb
    @1
    @2
    @127
    @3
    cA
    rmspecsqrtnq
    3ad2ant1
    @4
    cn0
    cq
    @6
    nn0ssq
    @4
    @1
    @5
    cz
    wcel
    #
    @6
    cn0
    wcel
    @1
    @2
    @3
    simp1
    #
    @4
    cN
    cJ
    @1
    @2
    @3
    simp2
    @3
    @1
    @45
    @2
    @46
    3ad2ant3
    zmulcld
    #
    cA
    @5
    cn0
    @0
    cz
    crmx
    frmx
    fovcl
    syl2anc
    sseldi
    @4
    cz
    cq
    @26
    zssq
    @4
    @1
    @128
    @26
    cz
    wcel
    @129
    @130
    cA
    @5
    cz
    @0
    cz
    crmy
    frmy
    fovcl
    syl2anc
    sseldi
    @4
    cz
    cq
    @24
    zssq
    @4
    @10
    @23
    vi
    @10
    cfn
    wcel
    #
    @4
    @74
    @10
    @9
    wss
    @131
    @75
    @8
    vx
    @9
    ssrab2
    @9
    @10
    ssfi
    mp2an
    a1i
    @11
    @10
    wcel
    @4
    @54
    @78
    wa
    #
    @23
    cz
    wcel
    @8
    @78
    vx
    @11
    @9
    @81
    elrab
    @4
    @132
    wa
    #
    @12
    @22
    @4
    @54
    @57
    @78
    @59
    adantrr
    @133
    @15
    @21
    @4
    @54
    @15
    cz
    wcel
    #
    @78
    @55
    @61
    @63
    @134
    @62
    @64
    @13
    @14
    zexpcl
    syl2anc
    #
    adantrr
    @133
    @21
    @17
    @11
    c2
    cdiv
    co
    #
    cexp
    co
    #
    @29
    cmul
    co
    #
    cz
    @133
    @21
    @120
    @138
    @133
    @18
    @19
    @11
    @4
    @54
    @115
    @78
    @67
    adantrr
    #
    @4
    @54
    @19
    cc
    wcel
    @78
    @68
    adantrr
    @54
    @69
    @4
    @78
    @70
    ad2antrl
    mulexpd
    @133
    @118
    @137
    @29
    cmul
    @133
    @118
    @18
    c2
    @136
    cmul
    co
    #
    cexp
    co
    @125
    @136
    cexp
    co
    @137
    @133
    @11
    @140
    @18
    cexp
    @4
    @54
    @11
    @140
    wceq
    @78
    @55
    @140
    @11
    @55
    @11
    c2
    @54
    @11
    cc
    wcel
    @4
    @54
    @11
    @58
    zcnd
    adantl
    @55
    2cnd
    @97
    @55
    2ne0
    a1i
    divcan2d
    eqcomd
    adantrr
    oveq2d
    @133
    @18
    c2
    @136
    @139
    @132
    @136
    cn0
    wcel
    #
    @4
    @54
    @69
    @78
    @141
    @70
    @69
    @78
    wa
    #
    @136
    cz
    wcel
    #
    cc0
    @136
    cle
    wbr
    #
    @141
    @69
    @78
    @143
    @69
    @96
    @97
    @56
    @78
    @143
    wb
    @96
    @69
    2z
    a1i
    @97
    @69
    2ne0
    a1i
    @11
    nn0z
    c2
    @11
    dvdsval2
    syl3anc
    biimpa
    @142
    @11
    cr
    wcel
    #
    cc0
    @11
    cle
    wbr
    #
    @101
    @102
    @144
    @69
    @145
    @78
    @11
    nn0re
    adantr
    @69
    @146
    @78
    @11
    nn0ge0
    adantr
    @101
    @142
    2re
    a1i
    @102
    @142
    2pos
    a1i
    @11
    c2
    divge0
    syl22anc
    @136
    elnn0z
    sylanbrc
    sylan
    #
    adantl
    @126
    @133
    2nn0
    a1i
    expmuld
    @133
    @125
    @17
    @136
    cexp
    @133
    @17
    @4
    @54
    @89
    @78
    @66
    adantrr
    sqsqrtd
    oveq1d
    3eqtrd
    oveq1d
    eqtrd
    @133
    @137
    @29
    @4
    @48
    @141
    @137
    cz
    wcel
    @132
    @49
    @147
    @17
    @136
    zexpcl
    syl2an
    @4
    @54
    @86
    @78
    @87
    adantrr
    zmulcld
    eqeltrd
    zmulcld
    zmulcld
    sylan2b
    fsumzcl
    sseldi
    @4
    cz
    cq
    @36
    zssq
    @4
    @28
    @35
    vi
    @76
    @77
    @4
    @80
    @35
    cz
    wcel
    @82
    @83
    @12
    @34
    @4
    @54
    @57
    @79
    @59
    adantrr
    @83
    @15
    @33
    @4
    @54
    @134
    @79
    @135
    adantrr
    @83
    @29
    @32
    @4
    @54
    @86
    @79
    @87
    adantrr
    @4
    @48
    @91
    @32
    cz
    wcel
    @80
    @49
    @109
    @17
    @31
    zexpcl
    syl2an
    zmulcld
    zmulcld
    zmulcld
    sylan2b
    fsumzcl
    sseldi
    @18
    @6
    @26
    @24
    @36
    qirropth
    syl122anc
    mpbid
    simprd
end
