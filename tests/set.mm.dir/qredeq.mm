include "cz.mm"
include "wcel.mm"
include "cn.mm"
include "cgcd.mm"
include "co.mm"
include "c1.mm"
include "wceq.mm"
include "w3a.mm"
include "cdiv.mm"
include "wa.mm"
include "cmul.mm"
include "cc.mm"
include "zcn.mm"
include "adantr.mm"
include "nncn.mm"
include "adantl.mm"
include "cc0.mm"
include "wne.mm"
include "nnne0.mm"
include "divcld.mm"
include "3adant3.mm"
include "3ad2ant2.mm"
include "mulcand.mm"
include "divcan2d.mm"
include "eqeq1d.mm"
include "bitr3d.mm"
include "3ad2ant1.mm"
include "mulcl.mm"
include "syl2an.mm"
include "mulcan2d.mm"
include "mulassd.mm"
include "divcan1d.mm"
include "oveq2d.mm"
include "eqtrd.mm"
include "eqeq2d.mm"
include "bitrd.mm"
include "cle.mm"
include "wbr.mm"
include "cdvds.mm"
include "nnz.mm"
include "simp2.mm"
include "anim12i.mm"
include "simpl1.mm"
include "3jca.mm"
include "simp1.mm"
include "dvdsmul1.mm"
include "simpr.mm"
include "breqtrrd.mm"
include "gcdcom.mm"
include "sylan.mm"
include "ancoms.mm"
include "simp3.mm"
include "ad2antrr.mm"
include "jca.mm"
include "coprmdvds.mm"
include "sylc.mm"
include "dvdsle.mm"
include "simpr1.mm"
include "dvdsmul2.mm"
include "mulcom.mm"
include "breqtrd.mm"
include "ad2antlr.mm"
include "cr.mm"
include "nnre.mm"
include "letri3d.mm"
include "mpbir2and.mm"
include "oveq2.mm"
include "anbi2d.mm"
include "biimpa.mm"
include "syl6bir.mm"
include "com12.mm"
include "ancrd.mm"
include "mpd.mm"
include "ex.mm"
include "sylbid.mm"
include "3impia.mm"

theorem qredeq
  let cP: class P
  let cQ: class Q
  let cM: class M
  let cN: class N


  assert |- ( ( ( M e. ZZ /\ N e. NN /\ ( M gcd N ) = 1 ) /\ ( P e. ZZ /\ Q e. NN /\ ( P gcd Q ) = 1 ) /\ ( M / N ) = ( P / Q ) ) -> ( M = P /\ N = Q ) )

  proof
    cM
    cz
    wcel
    #
    cN
    cn
    wcel
    #
    cM
    cN
    cgcd
    co
    #
    c1
    wceq
    #
    w3a
    #
    cP
    cz
    wcel
    #
    cQ
    cn
    wcel
    #
    cP
    cQ
    cgcd
    co
    #
    c1
    wceq
    #
    w3a
    #
    cM
    cN
    cdiv
    co
    #
    cP
    cQ
    cdiv
    co
    #
    wceq
    #
    cM
    cP
    wceq
    #
    cN
    cQ
    wceq
    #
    wa
    #
    @4
    @9
    wa
    #
    @12
    cM
    cQ
    cmul
    co
    #
    cN
    cP
    cmul
    co
    #
    wceq
    #
    @15
    @16
    @12
    cM
    cN
    @11
    cmul
    co
    #
    wceq
    #
    @19
    @16
    cN
    @10
    cmul
    co
    #
    @20
    wceq
    @12
    @21
    @16
    @10
    @11
    cN
    @4
    @10
    cc
    wcel
    #
    @9
    @0
    @1
    @23
    @3
    @0
    @1
    wa
    #
    cM
    cN
    @0
    cM
    cc
    wcel
    #
    @1
    cM
    zcn
    #
    adantr
    #
    @1
    cN
    cc
    wcel
    #
    @0
    cN
    nncn
    #
    adantl
    #
    @1
    cN
    cc0
    wne
    #
    @0
    cN
    nnne0
    #
    adantl
    #
    divcld
    3adant3
    adantr
    @9
    @11
    cc
    wcel
    #
    @4
    @5
    @6
    @34
    @8
    @5
    @6
    wa
    #
    cP
    cQ
    @5
    cP
    cc
    wcel
    #
    @6
    cP
    zcn
    #
    adantr
    #
    @6
    cQ
    cc
    wcel
    #
    @5
    cQ
    nncn
    #
    adantl
    #
    @6
    cQ
    cc0
    wne
    #
    @5
    cQ
    nnne0
    #
    adantl
    #
    divcld
    3adant3
    #
    adantl
    #
    @4
    @28
    @9
    @1
    @0
    @28
    @3
    @29
    3ad2ant2
    #
    adantr
    #
    @4
    @31
    @9
    @1
    @0
    @31
    @3
    @32
    3ad2ant2
    adantr
    #
    mulcand
    @16
    @22
    cM
    @20
    @4
    @22
    cM
    wceq
    #
    @9
    @0
    @1
    @50
    @3
    @24
    cM
    cN
    @27
    @30
    @33
    divcan2d
    3adant3
    adantr
    eqeq1d
    bitr3d
    @16
    @17
    @20
    cQ
    cmul
    co
    #
    wceq
    @21
    @19
    @16
    cM
    @20
    cQ
    @4
    @25
    @9
    @0
    @1
    @25
    @3
    @26
    3ad2ant1
    adantr
    #
    @4
    @28
    @34
    @20
    cc
    wcel
    @9
    @47
    @45
    cN
    @11
    mulcl
    syl2an
    @9
    @39
    @4
    @6
    @5
    @39
    @8
    @40
    3ad2ant2
    adantl
    #
    @9
    @42
    @4
    @6
    @5
    @42
    @8
    @43
    3ad2ant2
    adantl
    mulcan2d
    @16
    @51
    @18
    @17
    @16
    @51
    cN
    @11
    cQ
    cmul
    co
    #
    cmul
    co
    @18
    @16
    cN
    @11
    cQ
    @48
    @46
    @53
    mulassd
    @16
    @54
    cP
    cN
    cmul
    @9
    @54
    cP
    wceq
    #
    @4
    @5
    @6
    @55
    @8
    @35
    cP
    cQ
    @38
    @41
    @44
    divcan1d
    3adant3
    adantl
    oveq2d
    eqtrd
    eqeq2d
    bitr3d
    bitrd
    @16
    @19
    @15
    @16
    @19
    wa
    #
    @14
    @15
    @56
    @14
    cN
    cQ
    cle
    wbr
    #
    cQ
    cN
    cle
    wbr
    #
    @56
    cN
    cz
    wcel
    #
    @6
    wa
    #
    cN
    cQ
    cdvds
    wbr
    #
    @57
    @16
    @60
    @19
    @4
    @59
    @9
    @6
    @1
    @0
    @59
    @3
    cN
    nnz
    #
    3ad2ant2
    #
    @5
    @6
    @8
    simp2
    anim12i
    adantr
    @56
    @59
    @0
    cQ
    cz
    wcel
    #
    w3a
    #
    cN
    @17
    cdvds
    wbr
    #
    cN
    cM
    cgcd
    co
    #
    c1
    wceq
    #
    wa
    @61
    @16
    @65
    @19
    @16
    @59
    @0
    @64
    @4
    @59
    @9
    @63
    adantr
    #
    @0
    @1
    @3
    @9
    simpl1
    @9
    @64
    @4
    @6
    @5
    @64
    @8
    cQ
    nnz
    #
    3ad2ant2
    #
    adantl
    #
    3jca
    adantr
    @56
    @66
    @68
    @56
    cN
    @18
    @17
    cdvds
    @16
    cN
    @18
    cdvds
    wbr
    #
    @19
    @4
    @59
    @5
    @73
    @9
    @63
    @5
    @6
    @8
    simp1
    cN
    cP
    dvdsmul1
    syl2an
    adantr
    @16
    @19
    simpr
    #
    breqtrrd
    @4
    @68
    @9
    @19
    @4
    @67
    @2
    c1
    @0
    @1
    @67
    @2
    wceq
    #
    @3
    @1
    @0
    @75
    @1
    @59
    @0
    @75
    @62
    cN
    cM
    gcdcom
    sylan
    ancoms
    3adant3
    @0
    @1
    @3
    simp3
    eqtrd
    ad2antrr
    jca
    cN
    cM
    cQ
    coprmdvds
    sylc
    cN
    cQ
    dvdsle
    sylc
    @56
    @64
    @1
    wa
    #
    cQ
    cN
    cdvds
    wbr
    #
    @58
    @16
    @76
    @19
    @9
    @4
    @76
    @9
    @64
    @4
    @1
    @71
    @0
    @1
    @3
    simp2
    anim12i
    ancoms
    adantr
    @56
    @64
    @5
    @59
    w3a
    #
    cQ
    cP
    cN
    cmul
    co
    #
    cdvds
    wbr
    #
    cQ
    cP
    cgcd
    co
    #
    c1
    wceq
    #
    wa
    @77
    @16
    @78
    @19
    @16
    @64
    @5
    @59
    @72
    @4
    @5
    @6
    @8
    simpr1
    @69
    3jca
    adantr
    @56
    @80
    @82
    @56
    cQ
    @17
    @79
    cdvds
    @16
    cQ
    @17
    cdvds
    wbr
    #
    @19
    @4
    @0
    @64
    @83
    @9
    @0
    @1
    @3
    simp1
    @71
    cM
    cQ
    dvdsmul2
    syl2an
    adantr
    @56
    @17
    @18
    @79
    @74
    @16
    @18
    @79
    wceq
    #
    @19
    @4
    @28
    @36
    @84
    @9
    @47
    @5
    @6
    @36
    @8
    @37
    3ad2ant1
    #
    cN
    cP
    mulcom
    syl2an
    adantr
    eqtrd
    breqtrd
    @9
    @82
    @4
    @19
    @9
    @81
    @7
    c1
    @5
    @6
    @81
    @7
    wceq
    #
    @8
    @6
    @5
    @86
    @6
    @64
    @5
    @86
    @70
    cQ
    cP
    gcdcom
    sylan
    ancoms
    3adant3
    @5
    @6
    @8
    simp3
    eqtrd
    ad2antlr
    jca
    cQ
    cP
    cN
    coprmdvds
    sylc
    cQ
    cN
    dvdsle
    sylc
    @56
    cN
    cQ
    @4
    cN
    cr
    wcel
    #
    @9
    @19
    @1
    @0
    @87
    @3
    cN
    nnre
    3ad2ant2
    ad2antrr
    @9
    cQ
    cr
    wcel
    #
    @4
    @19
    @6
    @5
    @88
    @8
    cQ
    nnre
    3ad2ant2
    ad2antlr
    letri3d
    mpbir2and
    @56
    @14
    @13
    @14
    @56
    @13
    @14
    @56
    @16
    cM
    cN
    cmul
    co
    #
    @18
    wceq
    #
    wa
    @13
    @14
    @90
    @19
    @16
    @14
    @89
    @17
    @18
    cN
    cQ
    cM
    cmul
    oveq2
    eqeq1d
    anbi2d
    @16
    @90
    @13
    @16
    @90
    cN
    cM
    cmul
    co
    #
    @18
    wceq
    @13
    @16
    @89
    @91
    @18
    @4
    @89
    @91
    wceq
    #
    @9
    @0
    @1
    @92
    @3
    @0
    @25
    @28
    @92
    @1
    @26
    @29
    cM
    cN
    mulcom
    syl2an
    3adant3
    adantr
    eqeq1d
    @16
    cM
    cP
    cN
    @52
    @9
    @36
    @4
    @85
    adantl
    @48
    @49
    mulcand
    bitrd
    biimpa
    syl6bir
    com12
    ancrd
    mpd
    ex
    sylbid
    3impia
end
